<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.b2.Sinnanda.mapper.QnaMapper">

	<!-- [이승준] QnA List Map -->
	<resultMap type="com.b2.Sinnanda.vo.Qna" id="QnaListMap">
		<id column="qna_no" property="qnaNo"/>
		<result column="member_no" property="memberNo"/>
		<result column="qna_category" property="qnaCategory"/>
		<result column="qna_title" property="qnaTitle"/>
		<result column="qna_secret" property="qnaSecret"/>
		<result column="create_date" property="createDate"/>
	</resultMap>

	<!-- [이승준] QnA 목록 조회 -->
	<select id="selectQnaListQnaCategory" parameterType="Map" resultMap="QnaListMap">
		SELECT 
			qna_no, 
			member_no, 
			qna_category,
			qna_title, 
			qna_secret, 
			create_date
		FROM qna 
		<where>
			<if test="qnaCategory != null">
				qna_category = #{qnaCategory}
			</if>
		</where>
		ORDER BY create_date DESC
		LIMIT #{beginRow}, #{rowPerPage}
	</select>
	
	<!-- [이승준] QnA 갯수 조회-->
	<select id="selectQnaTotalCount" resultType="int">
		SELECT 
			COUNT(*) 
		FROM qna
	</select>
</mapper>